<!DOCTYPE html>
<html>
<head>
  <title>ペットをおしゃれにしてみましょう</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="device-width">
  <style>
@import url('https://fonts.googleapis.com/css2?family=Cherry+Bomb+One&display=swap');

.title{
    font-family: 'Cherry Bomb One',cursive;
    text-align: center;
    font-size: 40px;
    color: hotpink;
}
.canvasanddownload{
    display: flex;
    flex-direction: column;
    align-items: center;
    position:relative;
}


    .canvas-and-button{
        display:flex;
        align-items: flex-start;
        justify-content: center;
        gap: 40px;
        margin-top: 20px;
    }

    .loadingcircle {
        position: absolute;
        top:50%;
        left: 50%;
        transform: translate(-50%,-50%);
        width:180px;
        height:180px;
        pointer-events: none;
        animation:rotateCircle 3s linear infinite;
        z-index: 10;
    }

    .loadingcircle span {
        position:absolute;
        left:50%;
        top:50%;
        transform-origin:0 70px ;
        font-size: 24px;
        font-weight: bold;
        color: ivory;
    }

    @keyframes rotateCircle{
        0%{transform: translate(-50%,-50%) rotate(0deg);}
        100%{transform: translate(-50%,-50%) rotate(360deg);}
    }


    .EffectButton{
        display: grid;
        grid-template-columns: repeat(2,100px);
        grid-template-rows: repeat(8,100px);
        gap:10px;
        justify-content: flex-end;
        margin-right:20px;
    }

    .effect-button{
        width:100px;
        height:100px;
        border: none;
        background: none;
        padding:0;
        cursor: pointer;
    }

    .effect-button img{
        width: 100%;
        height: 100%;
        object-fit: contain;
        display: block;
        object-fit: fill;
        transform-origin:center;
        transition:transform 0.3s ease;
    }

    .effect-button:hover img{
        transform:scale(1.2)
    }

    .effect-button:active img{
        transform:scale(0.95)
    }

    .mid{
        position:relative;
    }

    .subButtons{
        position: absolute;
        top: 0px;
        left: 110px;
        display: none;
        flex-direction: column;
        gap: 10px;
        z-index: 999;
    }

    .subButton{
        width: 60px;
        height: 60px;
        padding: 0;
        border: none;
        background: none;
        cursor: pointer;
    }



    .subButton img{
        width:100%;
        height:100%;
        display: block;
        object-fit: fill;
        transform-origin:center;
        transition:transform 0.3s ease;
    }

    .subButton:hover img{
        transform:scale(1.2)
    }

    .subButton:active img{
        transform:scale(0.95)
    }

    #ImageSpace{
        background-color: lightpink;
        display: block;
    }
    

    .download{
        display:inline-block;
        position:relative;
        width: 140px;
        height:55px;
        border:none;
        background-color:#ff69b4;
        color:white;
        cursor:pointer;
        padding:10px 20px;
        transition:background-color 0.3s ease;
    }

    .download:hover{
        background-color:#ffc0cb;
    }
    
    .download:active{
        transform:scale(0.85);
        background-color:#e05e9a;
    }
  </style>
</head>
<body>
<h1 class="title">ペットをおしゃれにしてみましょう</h1>

<p><input type="file" accept="image/*" onchange="ImageImport(this.files)"></p>

<div class="canvas-and-button">

    <div class="canvasanddownload">
        <canvas id="ImageSpace" width="650" height="650">
        ここにペットの写真が表示されます
        </canvas>

        <div id="loadingText" class="loadingcircle" style="display:none;">
            <span style="transform: rotate(0deg) translate(0,70px)">ロ</span>
            <span style="transform: rotate(45deg) translate(0,70px)">ー</span>
            <span style="transform: rotate(90deg) translate(0,70px)">デ</span>
            <span style="transform: rotate(135deg) translate(0,70px)">ィ</span>
            <span style="transform: rotate(180deg) translate(0,70px)">ン</span>
            <span style="transform: rotate(225deg) translate(0,70px)">グ</span>
            <span style="transform: rotate(270deg) translate(0,70px)">中</span>
            <span style="transform: rotate(315deg) translate(0,70px)">…</span>
        </div>

        <div class="downloadbutton">
            <button class="download" type="button" onclick="ImageDownload()">保存</button>
            <button type="button" onclick = "ChangeUseImage()"></button>
        </div>
    </div>
 <script src="panda.js"></script>
 <script src="ImageImport.js"></script>
 <script src="ImageDownload.js"></script>
 <script src="OtherProcess.js"></script>



    <div class="EffectButton">
        <div class="mid">
            <button class="effect-button" onclick="opensub('sangurasu')">
                <img src="button/glass.png">
            </button>
    
            <div id="sub_sangurasu" class="subButtons">
                <button class="subButton" onclick="applyeffect('effectsangurasu')">
                    <img src="pinkbox.png">
                </button>
                <button class="subButton" onclick="applyeffect('sangurasuA')">
                    <img src="pinkbox.png">
                </button>
                <button class="subButton" onclick="applyeffect('sangurasuB')">
                    <img src="pinkbox.png">
                </button>
            </div>
        </div>

        <div class="mid">
            <button class="effect-button" onclick="opensub('bousi')">
                <img src="button/hat.png">
            </button>
    
            <div id="sub_bousi" class="subButtons">
                <button class="subButton" onclick="applyeffect('boushi')">
                    <img src="pinkbox.png">
                </button>
                <button class="subButton" onclick="applyeffect('santa')">
                    <img src="pinkbox.png">
                </button>
                <button class="subButton" onclick="applyeffect('fuwafuwa')">
                    <img src="pinkbox.png">
                </button>
            </div>
        </div>

        <div class="mid">
            <button class="effect-button" onclick="opensub('ribon')">
                <img src="button/ribbon.png">
            </button>
    
            <div id="sub_ribon" class="subButtons">
                <button class="subButton" onclick="applyeffect('effectribon')">
                    <img src="pinkbox.png">
                </button>
                <button class="subButton" onclick="applyeffect('nekutai')">
                    <img src="pinkbox.png">
                </button>
                <button class="subButton" onclick="applyeffect('suzu')">
                    <img src="pinkbox.png">
                </button>
            </div>
        </div>

        <div class="mid">
            <button class="effect-button" onclick="opensub('eyes')">
                <img src="button/eyebotan.png">
            </button>
    
            <div id="sub_eyes" class="subButtons">
                <button class="subButton" onclick="applyeffect('effecteye')">
                    <img src="pinkbox.png">
                </button>
                <button class="subButton" onclick="applyeffect('eye1')">
                    <img src="pinkbox.png">
                </button>
                <button class="subButton" onclick="applyeffect('eye2')">
                    <img src="pinkbox.png">
                </button>
            </div>
        </div>

        <div class="mid">
            <button class="effect-button" onclick="opensub('nose')">
                <img src="button/nosebotan.png">
            </button>
    
            <div id="sub_nose" class="subButtons">
                <button class="subButton" onclick="applyeffect('effecthana')">
                    <img src="pinkbox.png">
                </button>
                <button class="subButton" onclick="applyeffect('hige')">
                    <img src="pinkbox.png">
                </button>
                <button class="subButton" onclick="applyeffect('hige2')">
                    <img src="pinkbox.png">
                </button>
            </div>
        </div>

        <div class="mid">
            <button class="effect-button" onclick="opensub('mouse')">
                <img src="button/mousebotan.png">
            </button>
    
            <div id="sub_mouse" class="subButtons">
                <button class="subButton" onclick="applyeffect('effecthone')">
                    <img src="pinkbox.png">
                </button>
                <button class="subButton" onclick="applyeffect('mouseA')">
                    <img src="pinkbox.png">
                </button>
                <button class="subButton" onclick="applyeffect('mouseB')">
                    <img src="pinkbox.png">
                </button>
            </div>
        </div>

        <div class="mid">
            <button class="effect-button" onclick="opensub('mimi')">
                <img src="button/rabbit.png">
            </button>
    
            <div id="sub_mimi" class="subButtons">
                <button class="subButton" onclick="applyeffect('mimi')">
                    <img src="pinkbox.png">
                </button>
                <button class="subButton" onclick="applyeffect('starmimi')">
                <img src="pinkbox.png">
                </button>
                <button class="subButton" onclick="applyeffect('cat')">
                    <img src="pinkbox.png">
                </button>
            </div>
        </div>

        <div class="mid">
            <button class="effect-button" onclick="opensub('kirakira')">
                <img src="button/kirakirabotan.png">
            </button>
    
            <div id="sub_kirakira" class="subButtons">
                <button class="subButton" onclick="applyeffect('effectA')">
                    <img src="pinkbox.png">
                </button>
                <button class="subButton" onclick="applyeffect('effectB')">
                    <img src="pinkbox.png">
                </button>
                <button class="subButton" onclick="applyeffect('effectC')">
                    <img src="pinkbox.png">
                </button>
            </div>
        </div>
    </div>

</div>

<script src="EffectButton.js"></script>
<script src="EffectSelect.js"></script>
<script src="EffectRemove.js"></script>
<script src="selfcount.js"></script>
</body>
</html>